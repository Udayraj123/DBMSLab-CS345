<!DOCTYPE html>
<html class="js no-flexbox flexbox-legacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths" style="" lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.4"><meta name="copyright" content="2018 Neo4j, Inc."><title>Neo4j Cypher Refcard 3.3</title><link rel="stylesheet" href="Neo4j%20Cypher%20Refcard%203.3_files/font-awesome.css"><!-- style -->
<link href="Neo4j%20Cypher%20Refcard%203.3_files/css.css" rel="stylesheet" type="text/css">
<link href="Neo4j%20Cypher%20Refcard%203.3_files/style.css" rel="stylesheet">
<script type="text/javascript" async="" src="Neo4j%20Cypher%20Refcard%203.3_files/munchkin.js"></script><script async="" src="Neo4j%20Cypher%20Refcard%203.3_files/analytics.js"></script><script src="Neo4j%20Cypher%20Refcard%203.3_files/modernizr.js"></script>
<link href="Neo4j%20Cypher%20Refcard%203.3_files/cypher_main.css" rel="stylesheet" media="print, screen" type="text/css">
<!-- favicon -->
<link rel="shortcut icon" href="https://neo4j.com/docs/cypher-refcard/current/images/favicon.ico" type="image/vnd.microsoft.icon">
<link rel="icon" href="https://neo4j.com/docs/cypher-refcard/current/images/favicon.ico" type="image/x-icon">
<!-- Syntax Highlighter -->
<link rel="stylesheet" href="Neo4j%20Cypher%20Refcard%203.3_files/codemirror.css">
<link rel="stylesheet" href="Neo4j%20Cypher%20Refcard%203.3_files/neo.css">
<script src="Neo4j%20Cypher%20Refcard%203.3_files/codemirror.js"></script>
<script src="Neo4j%20Cypher%20Refcard%203.3_files/runmode.js"></script>
<script src="Neo4j%20Cypher%20Refcard%203.3_files/javascript.js"></script>
<script src="Neo4j%20Cypher%20Refcard%203.3_files/cypher.js"></script>
<script src="Neo4j%20Cypher%20Refcard%203.3_files/colorize.js"></script>
<style>
.col {
  clear: left;
}

.columns {
  float: left;
  width: 440px;
}

.page {
  float: left;
}

footer div.mid {
  padding: 1em;
}

.moved {
  display: none;
}
</style>
<script src="Neo4j%20Cypher%20Refcard%203.3_files/jquery.js"></script>
<script type="text/javascript">
  $( function()
  {
    function init()
    {
      var pageWidth = $( window ).width();
      var numberOfColumns = 1;
      var columns = [];
      switch ( true )
      {
        case pageWidth >= 978 && pageWidth < 1350:
          numberOfColumns = 2;
          break;
        case pageWidth >= 1350 && pageWidth < 1800:
          numberOfColumns = 3;
          break;
        case pageWidth >= 1800 && pageWidth < 2210:
          numberOfColumns = 4;
          break;
        case pageWidth >= 2210 && pageWidth < 2640:
          numberOfColumns = 5;
          break;
        case pageWidth >= 2640 && pageWidth < 3960:
          numberOfColumns = 6;
          break;
        case pageWidth >= 3960:
          numberOfColumns = 9;
          break;
      }
      if ( numberOfColumns < 2 )
      {
        return;
      }
      var page = $( "#clearing-div" );
      for ( var i = 2; i <= numberOfColumns; i++ )
      {
        column = $( '<div class="columns" id="column-' + i + '"/>' );
        column.insertBefore( page );
        columns.push( column );
      }
      //           <div style="clear:both;"> </div>
      $( "#page > div.col" ).each( function()
      {
        var element = $( this );
        for ( var i = 2; i <= numberOfColumns; i++ )
        {
          var moveTo = "c" + numberOfColumns + "-" + i;
          if ( element.hasClass( moveTo ) )
          {
            var clone = element.clone( true );
            clone.appendTo( columns[i - 2] );
            element.addClass( "moved" );
          }
        }
      } );
    }
    init();
    $( window ).resize(function()
    {
      $( "div.columns" ).remove();
      $( "#page > div.col" ).removeClass( "moved" );
      init();
    });
  } );
</script>
<script type="text/javascript">
  $(document).ready(function(){
    CodeMirror.colorize();
  });
</script></head><body class="book"><header><div class="mid"><img class="neo4j-logo" id="neo4j-logo" src="Neo4j%20Cypher%20Refcard%203.3_files/logo-neo4j.svg"><h1>Neo4j Cypher Refcard 3.3</h1></div></header><div class="main"><div class="mid"><div class="page" id="page"><div class="col"><h2 id="_legend">Legend</h2></div><div class="col"><div class="blk">

<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top cardread"><p class="tableblock" style="font-size:1.0em; font-family:'Ubuntu', Candara, serif">Read</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top cardwrite"><p class="tableblock" style="font-size:1.0em; font-family:'Ubuntu', Candara, serif">Write</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top cardgeneral"><p class="tableblock" style="font-size:1.0em; font-family:'Ubuntu', Candara, serif">General</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top cardfunctions"><p class="tableblock" style="font-size:1.0em; font-family:'Ubuntu', Candara, serif">Functions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top cardschema"><p class="tableblock" style="font-size:1.0em; font-family:'Ubuntu', Candara, serif">Schema</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top cardperformance"><p class="tableblock" style="font-size:1.0em; font-family:'Ubuntu', Candara, serif">Performance</p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col"><h2 id="_syntax">Syntax</h2></div><div class="col cardread c2-1 c3-1 c4-1 c5-1 c6-1 c9-1"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Read Query Structure</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">[</span><span class="cm-keyword">MATCH</span> <span class="cm-keyword">WHERE</span><span class="cm-node">]</span>
<span class="cm-node">[</span><span class="cm-keyword">OPTIONAL</span> <span class="cm-keyword">MATCH</span> <span class="cm-keyword">WHERE</span><span class="cm-node">]</span>
<span class="cm-node">[</span><span class="cm-keyword">WITH</span> <span class="cm-node">[</span><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">SKIP</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">LIMIT</span><span class="cm-node">]</span><span class="cm-node">]</span>
<span class="cm-keyword">RETURN</span> <span class="cm-node">[</span><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">SKIP</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">LIMIT</span><span class="cm-node">]</span></pre></div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardread c2-1 c3-1 c4-1 c5-1 c6-1 c9-1"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/match">MATCH</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-atom">m:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-string">'Alice'</span></pre></div>
<div class="paragraph">
<p>Node patterns can contain labels and properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Any pattern can be used in <code>MATCH</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">n</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-string">'Alice'</span><span class="cm-node">}</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Patterns with node properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-variable">p</span> = <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Assign a path to <code>p</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">OPTIONAL</span> <span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">r</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Optional pattern: <code>null</code>s will be used for missing parts.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardread c2-1 c3-1 c4-1 c5-1 c6-1 c9-1"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/where">WHERE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> &lt;&gt; <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Use a predicate to filter.
Note that <code>WHERE</code> is always part of a  <code>MATCH</code>, <code>OPTIONAL MATCH</code>, <code>WITH</code> or <code>START</code> clause.
Putting it after a different clause in a query will alter what it does.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardread c2-2 c3-2 c4-2 c5-2 c6-2 c9-2 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/return">RETURN</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> *</pre></div>
<div class="paragraph">
<p>Return the value of all variables.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> <span class="cm-variable">n</span> <span class="cm-keyword">AS</span> <span class="cm-variable">columnName</span></pre></div>
<div class="paragraph">
<p>Use alias for result column name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> <span class="cm-keyword">DISTINCT</span> <span class="cm-variable">n</span></pre></div>
<div class="paragraph">
<p>Return unique rows.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span></pre></div>
<div class="paragraph">
<p>Sort the result.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-keyword">DESC</span></pre></div>
<div class="paragraph">
<p>Sort the result in descending order.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SKIP</span> <span class="cm-variable">$skipNumber</span></pre></div>
<div class="paragraph">
<p>Skip a number of results.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">LIMIT</span> <span class="cm-variable">$limitNumber</span></pre></div>
<div class="paragraph">
<p>Limit the number of results.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SKIP</span> <span class="cm-variable">$skipNumber</span> <span class="cm-keyword">LIMIT</span> <span class="cm-variable">$limitNumber</span></pre></div>
<div class="paragraph">
<p>Skip results at the top and limit the number of results.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> <span class="cm-builtin">count</span><span class="cm-node">(</span>*<span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The number of matching rows.
See Aggregating Functions for more.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardread c2-2 c3-2 c4-2 c5-2 c6-2 c9-2 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/with">WITH</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">user</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:FRIEND</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-variable">friend</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">user</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-variable">$name</span>
<span class="cm-keyword">WITH</span> <span class="cm-variable">user</span><span class="cm-node">,</span> <span class="cm-builtin">count</span><span class="cm-node">(</span><span class="cm-variable">friend</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">friends</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">friends</span> &gt; <span class="cm-variable">10</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">user</span></pre></div>
<div class="paragraph">
<p>The <code>WITH</code> syntax is similar to <code>RETURN</code>.
It separates query parts explicitly, allowing you to declare which variables to carry over to the next part.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">user</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:FRIEND</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-variable">friend</span><span class="cm-node">)</span>
<span class="cm-keyword">WITH</span> <span class="cm-variable">user</span><span class="cm-node">,</span> <span class="cm-builtin">count</span><span class="cm-node">(</span><span class="cm-variable">friend</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">friends</span>
<span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> <span class="cm-variable">friends</span> <span class="cm-keyword">DESC</span>
  <span class="cm-keyword">SKIP</span> <span class="cm-variable">1</span>
  <span class="cm-keyword">LIMIT</span> <span class="cm-variable">3</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">user</span></pre></div>
<div class="paragraph">
<p><code>ORDER BY</code>, <code>SKIP</code>, and <code>LIMIT</code> can also be used with <code>WITH</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardread c2-2 c3-2 c4-2 c5-2 c6-2 c9-2 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/union">UNION</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span>
<span class="cm-keyword">UNION</span>
<span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:LOVES</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span></pre></div>
<div class="paragraph">
<p>Returns the distinct union of all query results.
Result column types and names have to match.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span>
<span class="cm-keyword">UNION</span> <span class="cm-def">ALL</span>
<span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:LOVES</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span></pre></div>
<div class="paragraph">
<p>Returns the union of all query results, including duplicated rows.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-1 c3-1 c4-1 c5-1 c6-1 c9-2"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Write-Only Query Structure</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-keyword">CREATE</span> <span class="cm-node">[</span><span class="cm-keyword">UNIQUE</span><span class="cm-node">]</span> | <span class="cm-keyword">MERGE</span><span class="cm-node">)</span>*
<span class="cm-node">[</span><span class="cm-keyword">SET</span>|<span class="cm-keyword">DELETE</span>|<span class="cm-keyword">REMOVE</span>|<span class="cm-keyword">FOREACH</span><span class="cm-node">]</span>*
<span class="cm-node">[</span><span class="cm-keyword">RETURN</span> <span class="cm-node">[</span><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">SKIP</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">LIMIT</span><span class="cm-node">]</span><span class="cm-node">]</span></pre></div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-1 c3-1 c4-1 c5-1 c6-1 c9-2"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Read-Write Query Structure</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">[</span><span class="cm-keyword">MATCH</span> <span class="cm-keyword">WHERE</span><span class="cm-node">]</span>
<span class="cm-node">[</span><span class="cm-keyword">OPTIONAL</span> <span class="cm-keyword">MATCH</span> <span class="cm-keyword">WHERE</span><span class="cm-node">]</span>
<span class="cm-node">[</span><span class="cm-keyword">WITH</span> <span class="cm-node">[</span><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">SKIP</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">LIMIT</span><span class="cm-node">]</span><span class="cm-node">]</span>
<span class="cm-node">(</span><span class="cm-keyword">CREATE</span> <span class="cm-node">[</span><span class="cm-keyword">UNIQUE</span><span class="cm-node">]</span> | <span class="cm-keyword">MERGE</span><span class="cm-node">)</span>*
<span class="cm-node">[</span><span class="cm-keyword">SET</span>|<span class="cm-keyword">DELETE</span>|<span class="cm-keyword">REMOVE</span>|<span class="cm-keyword">FOREACH</span><span class="cm-node">]</span>*
<span class="cm-node">[</span><span class="cm-keyword">RETURN</span> <span class="cm-node">[</span><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">SKIP</span><span class="cm-node">]</span> <span class="cm-node">[</span><span class="cm-keyword">LIMIT</span><span class="cm-node">]</span><span class="cm-node">]</span></pre></div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-1 c3-1 c4-1 c5-1 c6-1 c9-3"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/create">CREATE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">n</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Create a node with the given properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">n</span> <span class="cm-variable">$map</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Create a node with the given properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">UNWIND</span> <span class="cm-variable">$listOfMaps</span> <span class="cm-keyword">AS</span> <span class="cm-variable">properties</span>
<span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span> <span class="cm-keyword">SET</span> <span class="cm-variable">n</span> = <span class="cm-variable">properties</span></pre></div>
<div class="paragraph">
<p>Create nodes with the given properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">r:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Create a relationship with the given type and direction; bind a variable to it.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:LOVES</span> <span class="cm-node">{</span><span class="cm-atom">since:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Create a relationship with the given type, direction, and properties.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-1 c3-1 c4-1 c5-1 c6-1 c9-3"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/set">SET</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SET</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property1</span> = <span class="cm-variable">$value1</span><span class="cm-node">,</span>
    <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property2</span> = <span class="cm-variable">$value2</span></pre></div>
<div class="paragraph">
<p>Update or create a property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SET</span> <span class="cm-variable">n</span> = <span class="cm-variable">$map</span></pre></div>
<div class="paragraph">
<p>Set all properties.
This will remove any existing properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SET</span> <span class="cm-variable">n</span> += <span class="cm-variable">$map</span></pre></div>
<div class="paragraph">
<p>Add and update properties, while keeping existing ones.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SET</span> <span class="cm-atom">n:Person</span></pre></div>
<div class="paragraph">
<p>Adds a label <code>Person</code> to a node.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-3 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/merge">MERGE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MERGE</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span>
  <span class="cm-keyword">ON</span> <span class="cm-keyword">CREATE</span> <span class="cm-keyword">SET</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">created</span> = <span class="cm-builtin">timestamp</span><span class="cm-node">(</span><span class="cm-node">)</span>
  <span class="cm-keyword">ON</span> <span class="cm-keyword">MATCH</span> <span class="cm-keyword">SET</span>
    <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">counter</span> = <span class="cm-builtin">coalesce</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">counter</span><span class="cm-node">,</span> <span class="cm-variable">0</span><span class="cm-node">)</span> + <span class="cm-variable">1</span><span class="cm-node">,</span>
    <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">accessTime</span> = <span class="cm-builtin">timestamp</span><span class="cm-node">(</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Match a pattern or create it if it does not exist.
Use <code>ON CREATE</code> and <code>ON MATCH</code> for conditional updates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">a:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value1</span><span class="cm-node">}</span><span class="cm-node">)</span><span class="cm-node">,</span>
      <span class="cm-node">(</span><span class="cm-atom">b:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value2</span><span class="cm-node">}</span><span class="cm-node">)</span>
<span class="cm-keyword">MERGE</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">r:LOVES</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p><code>MERGE</code> finds or creates a relationship between the nodes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">a:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value1</span><span class="cm-node">}</span><span class="cm-node">)</span>
<span class="cm-keyword">MERGE</span>
  <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">r:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-atom">b:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value3</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p><code>MERGE</code> finds or creates subgraphs attached to the node.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-2 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/delete">DELETE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DELETE</span> <span class="cm-variable">n</span><span class="cm-node">,</span> <span class="cm-variable">r</span></pre></div>
<div class="paragraph">
<p>Delete a node and a relationship.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DETACH</span> <span class="cm-keyword">DELETE</span> <span class="cm-variable">n</span></pre></div>
<div class="paragraph">
<p>Delete a node and all relationships connected to it.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>
<span class="cm-keyword">DETACH</span> <span class="cm-keyword">DELETE</span> <span class="cm-variable">n</span></pre></div>
<div class="paragraph">
<p>Delete all nodes and relationships from the database.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-4 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/remove">REMOVE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">REMOVE</span> <span class="cm-atom">n:Person</span></pre></div>
<div class="paragraph">
<p>Remove a label from <code>n</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">REMOVE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span></pre></div>
<div class="paragraph">
<p>Remove a property.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-3 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/foreach">FOREACH</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">FOREACH</span> <span class="cm-node">(</span><span class="cm-variable">r</span> <span class="cm-def">IN</span> <span class="cm-builtin">relationships</span><span class="cm-node">(</span><span class="cm-variable">path</span><span class="cm-node">)</span> |
  <span class="cm-keyword">SET</span> <span class="cm-variable">r</span><span class="cm-node">.</span><span class="cm-variable">marked</span> = <span class="cm-keyword">true</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Execute a mutating operation for each relationship in a path.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">FOREACH</span> <span class="cm-node">(</span><span class="cm-variable">value</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> |
 <span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">value</span><span class="cm-node">}</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Execute a mutating operation for each element in a list.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-3 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/call">CALL</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">CALL</span> <span class="cm-variable">db</span><span class="cm-node">.</span><span class="cm-builtin">labels</span><span class="cm-node">(</span><span class="cm-node">)</span> <span class="cm-variable">YIELD</span> <span class="cm-variable">label</span></pre></div>
<div class="paragraph">
<p>This shows a standalone call to the built-in procedure <code>db.labels</code> to list all labels used in the database.
Note that required procedure arguments are given explicitly in brackets after the procedure name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">CALL</span> <span class="cm-variable">java</span><span class="cm-node">.</span><span class="cm-variable">stored</span><span class="cm-node">.</span><span class="cm-variable">procedureWithArgs</span></pre></div>
<div class="paragraph">
<p>Standalone calls may omit <code>YIELD</code> and also provide arguments implicitly via statement parameters, e.g. a standalone call requiring one argument <code>input</code> may be run by passing the parameter map <code>{input: 'foo'}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">CALL</span> <span class="cm-variable">db</span><span class="cm-node">.</span><span class="cm-builtin">labels</span><span class="cm-node">(</span><span class="cm-node">)</span> <span class="cm-variable">YIELD</span> <span class="cm-variable">label</span>
<span class="cm-keyword">RETURN</span> <span class="cm-builtin">count</span><span class="cm-node">(</span><span class="cm-variable">label</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-builtin">count</span></pre></div>
<div class="paragraph">
<p>Calls the built-in procedure <code>db.labels</code> inside a larger query to count all labels used in the database.
Calls inside a larger query always requires passing arguments and naming results explicitly with <code>YIELD</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardwrite c2-1 c3-1 c4-1 c5-1 c6-1 c9-1"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/load-csv">Import</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">LOAD</span> <span class="cm-keyword">CSV</span> <span class="cm-keyword">FROM</span>
<span class="cm-string">'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists.csv'</span> <span class="cm-keyword">AS</span> <span class="cm-variable">line</span>
<span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">:Artist</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">line</span><span class="cm-node">[</span><span class="cm-variable">1</span><span class="cm-node">]</span><span class="cm-node">,</span> <span class="cm-atom">year:</span> <span class="cm-variable">toInteger</span><span class="cm-node">(</span><span class="cm-variable">line</span><span class="cm-node">[</span><span class="cm-variable">2</span><span class="cm-node">]</span><span class="cm-node">)</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Load data from a CSV file and create nodes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">LOAD</span> <span class="cm-keyword">CSV</span> <span class="cm-keyword">WITH</span> <span class="cm-keyword">HEADERS</span> <span class="cm-keyword">FROM</span>
<span class="cm-string">'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists-with-headers.csv'</span> <span class="cm-keyword">AS</span> <span class="cm-variable">line</span>
<span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">:Artist</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">line</span><span class="cm-node">.</span><span class="cm-variable">Name</span><span class="cm-node">,</span> <span class="cm-atom">year:</span> <span class="cm-variable">toInteger</span><span class="cm-node">(</span><span class="cm-variable">line</span><span class="cm-node">.</span><span class="cm-variable">Year</span><span class="cm-node">)</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Load CSV data which has headers.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">USING</span> <span class="cm-keyword">PERIODIC</span> <span class="cm-keyword">COMMIT</span> <span class="cm-variable">500</span>
<span class="cm-keyword">LOAD</span> <span class="cm-keyword">CSV</span> <span class="cm-keyword">WITH</span> <span class="cm-keyword">HEADERS</span> <span class="cm-keyword">FROM</span>
<span class="cm-string">'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists-with-headers.csv'</span> <span class="cm-keyword">AS</span> <span class="cm-variable">line</span>
<span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">:Artist</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">line</span><span class="cm-node">.</span><span class="cm-variable">Name</span><span class="cm-node">,</span> <span class="cm-atom">year:</span> <span class="cm-variable">toInteger</span><span class="cm-node">(</span><span class="cm-variable">line</span><span class="cm-node">.</span><span class="cm-variable">Year</span><span class="cm-node">)</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Commit the current transaction after every 500 rows when importing large amounts of data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">LOAD</span> <span class="cm-keyword">CSV</span> <span class="cm-keyword">FROM</span>
<span class="cm-string">'https://neo4j.com/docs/cypher-refcard/3.3/csv/artists-fieldterminator.csv'</span>
<span class="cm-keyword">AS</span> <span class="cm-variable">line</span> <span class="cm-keyword">FIELDTERMINATOR</span> <span class="cm-string">';'</span>
<span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">:Artist</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">line</span><span class="cm-node">[</span><span class="cm-variable">1</span><span class="cm-node">]</span><span class="cm-node">,</span> <span class="cm-atom">year:</span> <span class="cm-variable">toInteger</span><span class="cm-node">(</span><span class="cm-variable">line</span><span class="cm-node">[</span><span class="cm-variable">2</span><span class="cm-node">]</span><span class="cm-node">)</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Use a different field terminator, not the default which is a comma (with no whitespace around it).</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c3-3 c4-3 c5-3 c6-3 c9-4 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/operators/">Operators</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">General</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DISTINCT</code>, <code>.</code>, <code>[]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mathematical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>^</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comparison</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>=</code>, <code>&lt;&gt;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>IS NULL</code>, <code>IS NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AND</code>, <code>OR</code>, <code>XOR</code>, <code>NOT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code>, <code>IN</code>, <code>[x]</code>, <code>[x .. y]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regular Expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>=~</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String matching</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STARTS WITH</code>, <code>ENDS WITH</code>, <code>CONTAINS</code></p></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c3-3 c4-3 c5-3 c6-3 c9-4 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/working-with-null/">null</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><code>null</code> is used to represent missing/undefined values.</p>
</li>
<li>
<p><code>null</code> is not equal to <code>null</code>.
Not knowing two values does not imply that they are the same value.
So the expression <code>null = null</code> yields <code>null</code> and not <code>true</code>.
To check if an expression is <code>null</code>, use <code>IS NULL</code>.</p>
</li>
<li>
<p>Arithmetic expressions, comparisons and function calls (except <code>coalesce</code>) will return <code>null</code> if any argument is <code>null</code>.</p>
</li>
<li>
<p>An attempt to access a missing element in a list or a property that doesn’t exist yields <code>null</code>.</p>
</li>
<li>
<p>In <code>OPTIONAL MATCH</code> clauses, <code>null</code>s will be used for missing parts of the pattern.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c3-3 c4-3 c5-3 c6-3 c9-4 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/patterns">Patterns</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Node with <code>Person</code> label.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-variable">:Swedish</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Node with both <code>Person</code> and <code>Swedish</code> labels.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-atom">n:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Node with the declared properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">r</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Matches relationships with the declared properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Relationship from <code>n</code> to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>--<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Relationship in any direction between <code>n</code> and <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Node <code>n</code> labeled <code>Person</code> with relationship to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span>&lt;-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Relationship of type <code>KNOWS</code> from <code>n</code> to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span>|<span class="cm-variable">:LOVES</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Relationship of type <code>KNOWS</code> or of type <code>LOVES</code> from <code>n</code> to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">r</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Bind the relationship to variable <code>r</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span>*<span class="cm-variable">1</span><span class="cm-node">.</span><span class="cm-node">.</span><span class="cm-variable">5</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Variable length path of between 1 and 5 relationships from <code>n</code> to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span>*<span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Variable length path of any number of relationships from <code>n</code> to <code>m</code>.
(See Performance section.)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span> <span class="cm-node">{</span><span class="cm-atom">property:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>A relationship of type <code>KNOWS</code> from a node <code>n</code> to a node <code>m</code> with the declared property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">shortestPath</span><span class="cm-node">(</span><span class="cm-node">(</span><span class="cm-atom">n1:Person</span><span class="cm-node">)</span>-<span class="cm-node">[</span>*<span class="cm-node">.</span><span class="cm-node">.</span><span class="cm-variable">6</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-atom">n2:Person</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Find a single shortest path.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">allShortestPaths</span><span class="cm-node">(</span><span class="cm-node">(</span><span class="cm-atom">n1:Person</span><span class="cm-node">)</span>-<span class="cm-node">[</span>*<span class="cm-node">.</span><span class="cm-node">.</span><span class="cm-variable">6</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-atom">n2:Person</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Find all shortest paths.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Count the paths matching the pattern.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c2-1 c3-2 c4-4 c5-4 c6-4 c9-5 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Labels</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Create a node with label and property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MERGE</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Matches or creates unique node(s) with the label and property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SET</span> <span class="cm-atom">n:Spouse</span><span class="cm-atom">:Parent:Employee</span></pre></div>
<div class="paragraph">
<p>Add label(s) to a node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Matches nodes labeled <code>Person</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Matches nodes labeled <code>Person</code> with the given <code>name</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">WHERE</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Checks the existence of the label on the node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">labels</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Labels of the node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">REMOVE</span> <span class="cm-atom">n:Person</span></pre></div>
<div class="paragraph">
<p>Remove the label from the node.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c2-2 c3-2 c4-3 c5-3 c6-3 c9-6 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/lists">Lists</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">[</span><span class="cm-string">'a'</span><span class="cm-node">,</span> <span class="cm-string">'b'</span><span class="cm-node">,</span> <span class="cm-string">'c'</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">list</span></pre></div>
<div class="paragraph">
<p>Literal lists are declared in square brackets.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">len</span><span class="cm-node">,</span> <span class="cm-variable">$list</span><span class="cm-node">[</span><span class="cm-variable">0</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">value</span></pre></div>
<div class="paragraph">
<p>Lists can be passed in as parameters.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">range</span><span class="cm-node">(</span><span class="cm-variable">$firstNum</span><span class="cm-node">,</span> <span class="cm-variable">$lastNum</span><span class="cm-node">,</span> <span class="cm-variable">$step</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">list</span></pre></div>
<div class="paragraph">
<p><code>range()</code> creates a list of numbers (<code>step</code> is optional), other functions returning lists are:
<code>labels()</code>, <code>nodes()</code>, <code>relationships()</code>, <code>filter()</code>, <code>extract()</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-variable">p</span> = <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span>*<span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-builtin">relationships</span><span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">r</span></pre></div>
<div class="paragraph">
<p>The list of relationships comprising a variable length path can be returned using named paths and <code>relationships()</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> <span class="cm-variable">matchedNode</span><span class="cm-node">.</span><span class="cm-variable">list</span><span class="cm-node">[</span><span class="cm-variable">0</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">value</span><span class="cm-node">,</span>
       <span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-variable">matchedNode</span><span class="cm-node">.</span><span class="cm-variable">list</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">len</span></pre></div>
<div class="paragraph">
<p>Properties can be lists of strings, numbers or booleans.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">list</span><span class="cm-node">[</span><span class="cm-variable">$idx</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">value</span><span class="cm-node">,</span>
<span class="cm-variable">list</span><span class="cm-node">[</span><span class="cm-variable">$startIdx</span><span class="cm-node">.</span><span class="cm-node">.</span><span class="cm-variable">$endIdx</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">slice</span></pre></div>
<div class="paragraph">
<p>List elements can be accessed with <code>idx</code> subscripts in square brackets.
Invalid indexes return <code>null</code>.
Slices can be retrieved with intervals from <code>start_idx</code> to <code>end_idx</code>, each of which can be omitted or negative.
Out of range elements are ignored.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">UNWIND</span> <span class="cm-variable">$names</span> <span class="cm-keyword">AS</span> <span class="cm-variable">name</span>
<span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">n</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">name</span><span class="cm-node">}</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-builtin">avg</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">age</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>With <code>UNWIND</code>, any list can be transformed back into individual rows.
The example matches all names from a list of names.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-node">[</span><span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span> <span class="cm-keyword">WHERE</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-string">'Bob'</span> | <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">age</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>Pattern comprehensions may be used to do a custom projection from a match directly into a list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">person</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">person</span> <span class="cm-node">{</span> <span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">,</span> <span class="cm-node">.</span><span class="cm-variable">age</span><span class="cm-node">}</span></pre></div>
<div class="paragraph">
<p>Map projections may be easily constructed from nodes, relationships and other map values.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c2-1 c3-3 c4-4 c5-4 c6-4 c9-5 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/maps">Maps</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-string">'Alice'</span><span class="cm-node">,</span> <span class="cm-atom">age:</span> <span class="cm-variable">38</span><span class="cm-node">,</span>
 <span class="cm-atom">address:</span> <span class="cm-node">{</span><span class="cm-atom">city:</span> <span class="cm-string">'London'</span><span class="cm-node">,</span> <span class="cm-atom">residential:</span> <span class="cm-keyword">true</span><span class="cm-node">}</span><span class="cm-node">}</span></pre></div>
<div class="paragraph">
<p>Literal maps are declared in curly braces much like property maps.
Lists are supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">WITH</span> <span class="cm-node">{</span><span class="cm-atom">person:</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-string">'Anne'</span><span class="cm-node">,</span> <span class="cm-atom">age:</span> <span class="cm-variable">25</span><span class="cm-node">}</span><span class="cm-node">}</span> <span class="cm-keyword">AS</span> <span class="cm-variable">p</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">person</span><span class="cm-node">.</span><span class="cm-variable">name</span></pre></div>
<div class="paragraph">
<p>Access the property of a nested map.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MERGE</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$map</span><span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">}</span><span class="cm-node">)</span>
  <span class="cm-keyword">ON</span> <span class="cm-keyword">CREATE</span> <span class="cm-keyword">SET</span> <span class="cm-variable">p</span> = <span class="cm-variable">$map</span></pre></div>
<div class="paragraph">
<p>Maps can be passed in as parameters and used either as a map or by accessing keys.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">matchedNode:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">matchedNode</span></pre></div>
<div class="paragraph">
<p>Nodes and relationships are returned as maps of their data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">map</span><span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">,</span> <span class="cm-variable">map</span><span class="cm-node">.</span><span class="cm-variable">age</span><span class="cm-node">,</span> <span class="cm-variable">map</span><span class="cm-node">.</span><span class="cm-variable">children</span><span class="cm-node">[</span><span class="cm-variable">0</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>Map entries can be accessed by their keys.
Invalid keys result in an error.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c2-2 c3-3 c4-4 c5-4 c6-4 c9-5 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/where">Predicates</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> &lt;&gt; <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Use comparison operators.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Use functions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">number</span> &gt;= <span class="cm-variable">1</span> <span class="cm-def">AND</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">number</span> &lt;= <span class="cm-variable">10</span></pre></div>
<div class="paragraph">
<p>Use boolean operators to combine predicates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">1</span> &lt;= <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">number</span> &lt;= <span class="cm-variable">10</span></pre></div>
<div class="paragraph">
<p>Use chained operators to combine predicates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-atom">n:Person</span></pre></div>
<div class="paragraph">
<p>Check for node labels.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">variable</span> <span class="cm-keyword">IS</span> <span class="cm-keyword">NULL</span></pre></div>
<div class="paragraph">
<p>Check if something is <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">NOT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span> <span class="cm-def">OR</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Either the property does not exist or the predicate is <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Non-existing property returns <code>null</code>, which is not equal to anything.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">[</span><span class="cm-string">"property"</span><span class="cm-node">]</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Properties may also be accessed using a dynamically computed property name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-keyword">STARTS</span> <span class="cm-keyword">WITH</span> <span class="cm-string">'Tob'</span> <span class="cm-def">OR</span>
<span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-keyword">ENDS</span> <span class="cm-keyword">WITH</span> <span class="cm-string">'n'</span> <span class="cm-def">OR</span>
<span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-def">CONTAINS</span> <span class="cm-string">'goodie'</span></pre></div>
<div class="paragraph">
<p>String matching.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> =~ <span class="cm-string">'Tob.*'</span></pre></div>
<div class="paragraph">
<p>String regular expression matching.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Ensure the pattern has at least one match.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">NOT</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Exclude matches to <code>(n)-[:KNOWS]-&gt;(m)</code> from the result.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-def">IN</span> <span class="cm-node">[</span><span class="cm-variable">$value1</span><span class="cm-node">,</span> <span class="cm-variable">$value2</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>Check if an element exists in a list.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c2-2 c3-3 c4-4 c5-4 c6-4 c9-6 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/predicate">List Predicates</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">all</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> <span class="cm-keyword">WHERE</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns <code>true</code> if the predicate is <code>true</code> for all elements in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">any</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> <span class="cm-keyword">WHERE</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns <code>true</code> if the predicate is <code>true</code> for at least one element in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">none</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> <span class="cm-keyword">WHERE</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns <code>true</code> if the predicate is <code>false</code> for all elements in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">single</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> <span class="cm-keyword">WHERE</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns <code>true</code> if the predicate is <code>true</code> for exactly one element in the list.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c2-2 c3-3 c4-4 c5-5 c6-5 c9-7 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/expressions">CASE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CASE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">eyes</span>
 <span class="cm-keyword">WHEN</span> <span class="cm-string">'blue'</span> <span class="cm-keyword">THEN</span> <span class="cm-variable">1</span>
 <span class="cm-keyword">WHEN</span> <span class="cm-string">'brown'</span> <span class="cm-keyword">THEN</span> <span class="cm-variable">2</span>
 <span class="cm-keyword">ELSE</span> <span class="cm-variable">3</span>
<span class="cm-keyword">END</span></pre></div>
<div class="paragraph">
<p>Return <code>THEN</code> value from the matching <code>WHEN</code> value.
The <code>ELSE</code> value is optional, and substituted for <code>null</code> if missing.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CASE</span>
 <span class="cm-keyword">WHEN</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">eyes</span> = <span class="cm-string">'blue'</span> <span class="cm-keyword">THEN</span> <span class="cm-variable">1</span>
 <span class="cm-keyword">WHEN</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">age</span> &lt; <span class="cm-variable">40</span> <span class="cm-keyword">THEN</span> <span class="cm-variable">2</span>
 <span class="cm-keyword">ELSE</span> <span class="cm-variable">3</span>
<span class="cm-keyword">END</span></pre></div>
<div class="paragraph">
<p>Return <code>THEN</code> value from the first <code>WHEN</code> predicate evaluating to <code>true</code>.
Predicates are evaluated in order.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardgeneral c2-2 c3-2 c4-4 c5-4 c6-4 c9-6 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/list">List Expressions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Number of elements in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">reverse</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Reverse the order of the elements in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">head</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">last</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">tail</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p><code>head()</code> returns the first, <code>last()</code> the last element
of the list. <code>tail()</code> returns all but the first element.
All return <code>null</code> for an empty list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">[</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">list</span> <span class="cm-keyword">WHERE</span> <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span> &lt;&gt; <span class="cm-variable">$value</span> | <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>Combination of filter and extract in a concise notation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">extract</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">list</span> | <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>A list of the value of the expression for each element in the original list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">filter</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">list</span> <span class="cm-keyword">WHERE</span> <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span> &lt;&gt; <span class="cm-variable">$value</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>A filtered list of the elements where the predicate is <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">reduce</span><span class="cm-node">(</span><span class="cm-variable">s</span> = <span class="cm-string">"</span><span class="cm-string">"</span><span class="cm-node">,</span> <span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">list</span> | <span class="cm-variable">s</span> + <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Evaluate expression for each element in the list, accumulate the results.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardfunctions c2-1 c3-1 c4-1 c5-5 c6-5 c9-8"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions">Functions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">coalesce</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">,</span> <span class="cm-variable">$defaultValue</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The first non-<code>null</code> expression.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">timestamp</span><span class="cm-node">(</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Milliseconds since midnight, January 1, 1970 UTC.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">id</span><span class="cm-node">(</span><span class="cm-variable">nodeOrRelationship</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The internal id of the relationship or node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">toInteger</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Converts the given input into an integer if possible; otherwise it returns <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">toFloat</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Converts the given input into a floating point number if possible; otherwise it returns <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">toBoolean</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Converts the given input into a boolean if possible; otherwise it returns <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">keys</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns a list of string representations for the property names of a node, relationship, or map.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">properties</span><span class="cm-node">(</span><span class="cm-node">{</span><span class="cm-variable">expr</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns a map containing all the properties of a node or relationship.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardfunctions c3-1 c4-1 c5-5 c6-5 c9-8"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/list">Path Functions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">length</span><span class="cm-node">(</span><span class="cm-variable">path</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The number of relationships in the path.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">nodes</span><span class="cm-node">(</span><span class="cm-variable">path</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The nodes in the path as a list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">relationships</span><span class="cm-node">(</span><span class="cm-variable">path</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The relationships in the path as a list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">extract</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-builtin">nodes</span><span class="cm-node">(</span><span class="cm-variable">path</span><span class="cm-node">)</span> | <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Extract properties from the nodes in a path.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardfunctions c2-1 c3-1 c4-2 c5-5 c6-5  c9-7"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/spatial">Spatial Functions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">point</span><span class="cm-node">(</span><span class="cm-node">{</span><span class="cm-atom">x:</span> <span class="cm-node">{</span><span class="cm-variable">x</span><span class="cm-node">}</span><span class="cm-node">,</span> <span class="cm-atom">y:</span> <span class="cm-node">{</span><span class="cm-variable">y</span><span class="cm-node">}</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns a point in a 2D coordinate system.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">distance</span><span class="cm-node">(</span><span class="cm-variable">point</span><span class="cm-node">(</span><span class="cm-node">{</span><span class="cm-atom">x:</span> <span class="cm-node">{</span><span class="cm-variable">x1</span><span class="cm-node">}</span><span class="cm-node">,</span> <span class="cm-atom">y:</span> <span class="cm-node">{</span><span class="cm-variable">y1</span><span class="cm-node">}</span><span class="cm-node">}</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-variable">point</span><span class="cm-node">(</span><span class="cm-node">{</span><span class="cm-atom">x:</span> <span class="cm-node">{</span><span class="cm-variable">x2</span><span class="cm-node">}</span><span class="cm-node">,</span> <span class="cm-atom">y:</span> <span class="cm-node">{</span><span class="cm-variable">y2</span><span class="cm-node">}</span><span class="cm-node">}</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns a floating point number representing the geodesic distance between two points.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardfunctions c2-1 c3-1 c4-2 c5-5 c6-5 c9-7"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions">Mathematical Functions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">abs</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The absolute value.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">rand</span><span class="cm-node">(</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns a random number in the range from 0 (inclusive) to 1 (exclusive), <code>[0,1)</code>.
Returns a new value for each call.
Also useful for selecting a subset or random ordering.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">round</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Round to the nearest integer; <code>ceil()</code> and <code>floor()</code> find the next integer up or down.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">sqrt</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The square root.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">sign</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p><code>0</code> if zero, <code>-1</code> if negative, <code>1</code> if positive.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">sin</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Trigonometric functions also include <code>cos()</code>, <code>tan()</code>, <code>cot()</code>, <code>asin()</code>, <code>acos()</code>, <code>atan()</code>, <code>atan2()</code>, and <code>haversin()</code>.
All arguments for the trigonometric functions should be in radians, if not otherwise specified.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">degrees</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">radians</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">pi</span><span class="cm-node">(</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Converts radians into degrees; use <code>radians()</code> for the reverse, and <code>pi()</code> for π.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">log10</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">log</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">exp</span><span class="cm-node">(</span><span class="cm-variable">$expr</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">e</span><span class="cm-node">(</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Logarithm base 10, natural logarithm, <code>e</code> to the power of the parameter, and the value of <code>e</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardfunctions c2-1 c3-2 c4-3 c5-5 c6-5 c9-8 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/string">String Functions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">toString</span><span class="cm-node">(</span><span class="cm-variable">$expression</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>String representation of the expression.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">replace</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$search</span><span class="cm-node">,</span> <span class="cm-variable">$replacement</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Replace all occurrences of <code>search</code> with <code>replacement</code>.
All arguments must be expressions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">substring</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$begin</span><span class="cm-node">,</span> <span class="cm-variable">$subLength</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Get part of a string.
The <code>subLength</code> argument is optional.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">left</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$subLength</span><span class="cm-node">)</span><span class="cm-node">,</span>
  <span class="cm-builtin">right</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$subLength</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The first part of a string. The last part of the string.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">trim</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">lTrim</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span><span class="cm-node">,</span>
  <span class="cm-builtin">rTrim</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Trim all whitespace, or on the left or right side.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">toUpper</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-variable">toLower</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>UPPERCASE and lowercase.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">split</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$delimiter</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Split a string into a list of strings.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">reverse</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Reverse a string.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-variable">$string</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Calculate the number of characters in the string.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardfunctions c2-2 c3-1 c4-2 c5-5 c6-6 c9-8"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/scalar">Relationship Functions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">type</span><span class="cm-node">(</span><span class="cm-variable">a_relationship</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>String representation of the relationship type.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">startNode</span><span class="cm-node">(</span><span class="cm-variable">a_relationship</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Start node of the relationship.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">endNode</span><span class="cm-node">(</span><span class="cm-variable">a_relationship</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>End node of the relationship.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">id</span><span class="cm-node">(</span><span class="cm-variable">a_relationship</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The internal id of the relationship.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardfunctions c2-2 c3-1 c4-1 c5-5 c6-6 c9-7"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/aggregating">Aggregating Functions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">count</span><span class="cm-node">(</span>*<span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The number of matching rows.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">count</span><span class="cm-node">(</span><span class="cm-variable">variable</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The number of non-<code>null</code> values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">count</span><span class="cm-node">(</span><span class="cm-keyword">DISTINCT</span> <span class="cm-variable">variable</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>All aggregating functions also take the <code>DISTINCT</code> operator,
which removes duplicates from the values.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">collect</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>List from the values, ignores <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">sum</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Sum numerical values. Similar functions are <code>avg()</code>, <code>min()</code>, <code>max()</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">percentileDisc</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">,</span> <span class="cm-variable">$percentile</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Discrete percentile. Continuous percentile is <code>percentileCont()</code>.
The <code>percentile</code> argument is from <code>0.0</code> to <code>1.0</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">stDev</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Standard deviation for a sample of a population.
For an entire population use <code>stDevP()</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardschema c2-2 c3-3 c4-4 c5-3 c6-6 c9-9 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/schema/index">INDEX</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">INDEX</span> <span class="cm-keyword">ON</span> <span class="cm-variable">:Person</span><span class="cm-node">(</span><span class="cm-variable">name</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Create an index on the label <code>Person</code> and property <code>name</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span> <span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>An index can be automatically used for the equality comparison.
Note that for example <code>toLower(n.name) = $value</code> will not use an index.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> <span class="cm-def">IN</span> <span class="cm-node">[</span><span class="cm-variable">$value</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>An index can automatically be used for the <code>IN</code> list checks.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">USING</span> <span class="cm-keyword">INDEX</span> <span class="cm-atom">n:Person</span><span class="cm-node">(</span><span class="cm-variable">name</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Index usage can be enforced when Cypher uses a suboptimal index, or
more than one index should be used.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">INDEX</span> <span class="cm-keyword">ON</span> <span class="cm-variable">:Person</span><span class="cm-node">(</span><span class="cm-variable">name</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Drop the index on the label <code>Person</code> and property <code>name</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardschema c2-2 c3-3 c4-4 c5-4 c6-6 c9-9 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/schema/constraints">CONSTRAINT</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
       <span class="cm-keyword">ASSERT</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">name</span> <span class="cm-keyword">IS</span> <span class="cm-keyword">UNIQUE</span></pre></div>
<div class="paragraph">
<p>Create a unique property constraint on the label <code>Person</code> and property <code>name</code>.
If any other node with that label is updated or created with a <code>name</code> that
already exists, the write operation will fail.
This constraint will create an accompanying index.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
     <span class="cm-keyword">ASSERT</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">name</span> <span class="cm-keyword">IS</span> <span class="cm-keyword">UNIQUE</span></pre></div>
<div class="paragraph">
<p>Drop the unique constraint and index on the label <code>Person</code> and property <code>name</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
       <span class="cm-keyword">ASSERT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>(★) Create a node property existence constraint on the label <code>Person</code> and property <code>name</code>.
If a node with that label is created without a <code>name</code>, or if the <code>name</code> property is
removed from an existing node with the <code>Person</code> label, the write operation will fail.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
     <span class="cm-keyword">ASSERT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>(★) Drop the node property existence constraint on the label <code>Person</code> and property <code>name</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">l:LIKED</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-node">)</span>
       <span class="cm-keyword">ASSERT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">l</span><span class="cm-node">.</span><span class="cm-keyword">when</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>(★) Create a relationship property existence constraint on the type <code>LIKED</code> and property <code>when</code>.
If a relationship with that type is created without a <code>when</code>, or if the <code>when</code> property is
removed from an existing relationship with the <code>LIKED</code> type, the write operation will fail.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">l:LIKED</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-node">)</span>
     <span class="cm-keyword">ASSERT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">l</span><span class="cm-node">.</span><span class="cm-keyword">when</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>(★) Drop the relationship property existence constraint on the type <code>LIKED</code> and property <code>when</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
      <span class="cm-keyword">ASSERT</span> <span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">firstname</span><span class="cm-node">,</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">surname</span><span class="cm-node">)</span> <span class="cm-keyword">IS</span> <span class="cm-builtin">NODE</span> <span class="cm-variable">KEY</span></pre></div>
<div class="paragraph">
<p>(★) Create a Node Key constraint on the label <code>Person</code> and properties <code>firstname</code> and <code>surname</code>.
If a node with that label is created without both <code>firstname</code> and <code>surname</code>
or if the combination of the two is not unique,
or if the <code>firstname</code> and/or <code>surname</code> labels on an existing node with the <code>Person</code> label
is modified to violate these constraints, the write operation will fail.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
      <span class="cm-keyword">ASSERT</span> <span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">firstname</span><span class="cm-node">,</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">surname</span><span class="cm-node">)</span> <span class="cm-keyword">IS</span> <span class="cm-builtin">NODE</span> <span class="cm-variable">KEY</span></pre></div>
<div class="paragraph">
<p>(★) Drop the Node Key constraint on the label <code>Person</code> and properties <code>firstname</code> and <code>surname</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div>
<div class="col cardperformance c2-2 c3-3 c4-3 c5-2 c6-6 c9-9 moved"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/query-tuning">Performance</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Use parameters instead of literals when possible.
This allows Cypher to re-use your queries instead of having to parse and build new execution plans.</p>
</li>
<li>
<p>Always set an upper limit for your variable length patterns.
It’s easy to have a query go wild and touch all nodes in a graph by mistake.</p>
</li>
<li>
<p>Return only the data you need.
Avoid returning whole nodes and relationships — instead, pick the data you need and return only that.</p>
</li>
<li>
<p>Use <code>PROFILE</code> / <code>EXPLAIN</code> to analyze the performance of your queries.
See <a href="https://neo4j.com/docs/developer-manual/3.3/cypher/query-tuning">Query Tuning</a> for more information on these and other topics, such as planner hints.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div></div></div><div class="columns" id="column-2"><div class="col cardread c2-2 c3-2 c4-2 c5-2 c6-2 c9-2"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/return">RETURN</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> *</pre></div>
<div class="paragraph">
<p>Return the value of all variables.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> <span class="cm-variable">n</span> <span class="cm-keyword">AS</span> <span class="cm-variable">columnName</span></pre></div>
<div class="paragraph">
<p>Use alias for result column name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> <span class="cm-keyword">DISTINCT</span> <span class="cm-variable">n</span></pre></div>
<div class="paragraph">
<p>Return unique rows.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span></pre></div>
<div class="paragraph">
<p>Sort the result.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-keyword">DESC</span></pre></div>
<div class="paragraph">
<p>Sort the result in descending order.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SKIP</span> <span class="cm-variable">$skipNumber</span></pre></div>
<div class="paragraph">
<p>Skip a number of results.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">LIMIT</span> <span class="cm-variable">$limitNumber</span></pre></div>
<div class="paragraph">
<p>Limit the number of results.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SKIP</span> <span class="cm-variable">$skipNumber</span> <span class="cm-keyword">LIMIT</span> <span class="cm-variable">$limitNumber</span></pre></div>
<div class="paragraph">
<p>Skip results at the top and limit the number of results.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> <span class="cm-builtin">count</span><span class="cm-node">(</span>*<span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The number of matching rows.
See Aggregating Functions for more.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardread c2-2 c3-2 c4-2 c5-2 c6-2 c9-2"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/with">WITH</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">user</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:FRIEND</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-variable">friend</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">user</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-variable">$name</span>
<span class="cm-keyword">WITH</span> <span class="cm-variable">user</span><span class="cm-node">,</span> <span class="cm-builtin">count</span><span class="cm-node">(</span><span class="cm-variable">friend</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">friends</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">friends</span> &gt; <span class="cm-variable">10</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">user</span></pre></div>
<div class="paragraph">
<p>The <code>WITH</code> syntax is similar to <code>RETURN</code>.
It separates query parts explicitly, allowing you to declare which variables to carry over to the next part.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">user</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:FRIEND</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-variable">friend</span><span class="cm-node">)</span>
<span class="cm-keyword">WITH</span> <span class="cm-variable">user</span><span class="cm-node">,</span> <span class="cm-builtin">count</span><span class="cm-node">(</span><span class="cm-variable">friend</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">friends</span>
<span class="cm-keyword">ORDER</span> <span class="cm-keyword">BY</span> <span class="cm-variable">friends</span> <span class="cm-keyword">DESC</span>
  <span class="cm-keyword">SKIP</span> <span class="cm-variable">1</span>
  <span class="cm-keyword">LIMIT</span> <span class="cm-variable">3</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">user</span></pre></div>
<div class="paragraph">
<p><code>ORDER BY</code>, <code>SKIP</code>, and <code>LIMIT</code> can also be used with <code>WITH</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardread c2-2 c3-2 c4-2 c5-2 c6-2 c9-2"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/union">UNION</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span>
<span class="cm-keyword">UNION</span>
<span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:LOVES</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span></pre></div>
<div class="paragraph">
<p>Returns the distinct union of all query results.
Result column types and names have to match.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span>
<span class="cm-keyword">UNION</span> <span class="cm-def">ALL</span>
<span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:LOVES</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span></pre></div>
<div class="paragraph">
<p>Returns the union of all query results, including duplicated rows.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-3"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/merge">MERGE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MERGE</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span>
  <span class="cm-keyword">ON</span> <span class="cm-keyword">CREATE</span> <span class="cm-keyword">SET</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">created</span> = <span class="cm-builtin">timestamp</span><span class="cm-node">(</span><span class="cm-node">)</span>
  <span class="cm-keyword">ON</span> <span class="cm-keyword">MATCH</span> <span class="cm-keyword">SET</span>
    <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">counter</span> = <span class="cm-builtin">coalesce</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">counter</span><span class="cm-node">,</span> <span class="cm-variable">0</span><span class="cm-node">)</span> + <span class="cm-variable">1</span><span class="cm-node">,</span>
    <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">accessTime</span> = <span class="cm-builtin">timestamp</span><span class="cm-node">(</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Match a pattern or create it if it does not exist.
Use <code>ON CREATE</code> and <code>ON MATCH</code> for conditional updates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">a:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value1</span><span class="cm-node">}</span><span class="cm-node">)</span><span class="cm-node">,</span>
      <span class="cm-node">(</span><span class="cm-atom">b:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value2</span><span class="cm-node">}</span><span class="cm-node">)</span>
<span class="cm-keyword">MERGE</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">r:LOVES</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p><code>MERGE</code> finds or creates a relationship between the nodes.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">a:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value1</span><span class="cm-node">}</span><span class="cm-node">)</span>
<span class="cm-keyword">MERGE</span>
  <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">r:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-atom">b:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value3</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p><code>MERGE</code> finds or creates subgraphs attached to the node.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-2"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/delete">DELETE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DELETE</span> <span class="cm-variable">n</span><span class="cm-node">,</span> <span class="cm-variable">r</span></pre></div>
<div class="paragraph">
<p>Delete a node and a relationship.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DETACH</span> <span class="cm-keyword">DELETE</span> <span class="cm-variable">n</span></pre></div>
<div class="paragraph">
<p>Delete a node and all relationships connected to it.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>
<span class="cm-keyword">DETACH</span> <span class="cm-keyword">DELETE</span> <span class="cm-variable">n</span></pre></div>
<div class="paragraph">
<p>Delete all nodes and relationships from the database.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-4"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/remove">REMOVE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">REMOVE</span> <span class="cm-atom">n:Person</span></pre></div>
<div class="paragraph">
<p>Remove a label from <code>n</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">REMOVE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span></pre></div>
<div class="paragraph">
<p>Remove a property.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-3"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/foreach">FOREACH</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">FOREACH</span> <span class="cm-node">(</span><span class="cm-variable">r</span> <span class="cm-def">IN</span> <span class="cm-builtin">relationships</span><span class="cm-node">(</span><span class="cm-variable">path</span><span class="cm-node">)</span> |
  <span class="cm-keyword">SET</span> <span class="cm-variable">r</span><span class="cm-node">.</span><span class="cm-variable">marked</span> = <span class="cm-keyword">true</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Execute a mutating operation for each relationship in a path.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">FOREACH</span> <span class="cm-node">(</span><span class="cm-variable">value</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> |
 <span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-variable">:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">value</span><span class="cm-node">}</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Execute a mutating operation for each element in a list.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardwrite c2-2 c3-2 c4-2 c5-2 c6-2 c9-3"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/call">CALL</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">CALL</span> <span class="cm-variable">db</span><span class="cm-node">.</span><span class="cm-builtin">labels</span><span class="cm-node">(</span><span class="cm-node">)</span> <span class="cm-variable">YIELD</span> <span class="cm-variable">label</span></pre></div>
<div class="paragraph">
<p>This shows a standalone call to the built-in procedure <code>db.labels</code> to list all labels used in the database.
Note that required procedure arguments are given explicitly in brackets after the procedure name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">CALL</span> <span class="cm-variable">java</span><span class="cm-node">.</span><span class="cm-variable">stored</span><span class="cm-node">.</span><span class="cm-variable">procedureWithArgs</span></pre></div>
<div class="paragraph">
<p>Standalone calls may omit <code>YIELD</code> and also provide arguments implicitly via statement parameters, e.g. a standalone call requiring one argument <code>input</code> may be run by passing the parameter map <code>{input: 'foo'}</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">CALL</span> <span class="cm-variable">db</span><span class="cm-node">.</span><span class="cm-builtin">labels</span><span class="cm-node">(</span><span class="cm-node">)</span> <span class="cm-variable">YIELD</span> <span class="cm-variable">label</span>
<span class="cm-keyword">RETURN</span> <span class="cm-builtin">count</span><span class="cm-node">(</span><span class="cm-variable">label</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-builtin">count</span></pre></div>
<div class="paragraph">
<p>Calls the built-in procedure <code>db.labels</code> inside a larger query to count all labels used in the database.
Calls inside a larger query always requires passing arguments and naming results explicitly with <code>YIELD</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c2-1 c3-2 c4-4 c5-4 c6-4 c9-5"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Labels</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Create a node with label and property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MERGE</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Matches or creates unique node(s) with the label and property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">SET</span> <span class="cm-atom">n:Spouse</span><span class="cm-atom">:Parent:Employee</span></pre></div>
<div class="paragraph">
<p>Add label(s) to a node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Matches nodes labeled <code>Person</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Matches nodes labeled <code>Person</code> with the given <code>name</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">WHERE</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Checks the existence of the label on the node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">labels</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Labels of the node.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">REMOVE</span> <span class="cm-atom">n:Person</span></pre></div>
<div class="paragraph">
<p>Remove the label from the node.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c2-2 c3-2 c4-3 c5-3 c6-3 c9-6"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/lists">Lists</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">[</span><span class="cm-string">'a'</span><span class="cm-node">,</span> <span class="cm-string">'b'</span><span class="cm-node">,</span> <span class="cm-string">'c'</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">list</span></pre></div>
<div class="paragraph">
<p>Literal lists are declared in square brackets.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">len</span><span class="cm-node">,</span> <span class="cm-variable">$list</span><span class="cm-node">[</span><span class="cm-variable">0</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">value</span></pre></div>
<div class="paragraph">
<p>Lists can be passed in as parameters.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">range</span><span class="cm-node">(</span><span class="cm-variable">$firstNum</span><span class="cm-node">,</span> <span class="cm-variable">$lastNum</span><span class="cm-node">,</span> <span class="cm-variable">$step</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">list</span></pre></div>
<div class="paragraph">
<p><code>range()</code> creates a list of numbers (<code>step</code> is optional), other functions returning lists are:
<code>labels()</code>, <code>nodes()</code>, <code>relationships()</code>, <code>filter()</code>, <code>extract()</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-variable">p</span> = <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span>*<span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-builtin">relationships</span><span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">r</span></pre></div>
<div class="paragraph">
<p>The list of relationships comprising a variable length path can be returned using named paths and <code>relationships()</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">RETURN</span> <span class="cm-variable">matchedNode</span><span class="cm-node">.</span><span class="cm-variable">list</span><span class="cm-node">[</span><span class="cm-variable">0</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">value</span><span class="cm-node">,</span>
       <span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-variable">matchedNode</span><span class="cm-node">.</span><span class="cm-variable">list</span><span class="cm-node">)</span> <span class="cm-keyword">AS</span> <span class="cm-variable">len</span></pre></div>
<div class="paragraph">
<p>Properties can be lists of strings, numbers or booleans.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">list</span><span class="cm-node">[</span><span class="cm-variable">$idx</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">value</span><span class="cm-node">,</span>
<span class="cm-variable">list</span><span class="cm-node">[</span><span class="cm-variable">$startIdx</span><span class="cm-node">.</span><span class="cm-node">.</span><span class="cm-variable">$endIdx</span><span class="cm-node">]</span> <span class="cm-keyword">AS</span> <span class="cm-variable">slice</span></pre></div>
<div class="paragraph">
<p>List elements can be accessed with <code>idx</code> subscripts in square brackets.
Invalid indexes return <code>null</code>.
Slices can be retrieved with intervals from <code>start_idx</code> to <code>end_idx</code>, each of which can be omitted or negative.
Out of range elements are ignored.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">UNWIND</span> <span class="cm-variable">$names</span> <span class="cm-keyword">AS</span> <span class="cm-variable">name</span>
<span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">n</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">name</span><span class="cm-node">}</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-builtin">avg</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">age</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>With <code>UNWIND</code>, any list can be transformed back into individual rows.
The example matches all names from a list of names.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-node">[</span><span class="cm-node">(</span><span class="cm-variable">a</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">b</span><span class="cm-node">)</span> <span class="cm-keyword">WHERE</span> <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-string">'Bob'</span> | <span class="cm-variable">b</span><span class="cm-node">.</span><span class="cm-variable">age</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>Pattern comprehensions may be used to do a custom projection from a match directly into a list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-variable">person</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">person</span> <span class="cm-node">{</span> <span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">,</span> <span class="cm-node">.</span><span class="cm-variable">age</span><span class="cm-node">}</span></pre></div>
<div class="paragraph">
<p>Map projections may be easily constructed from nodes, relationships and other map values.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c2-2 c3-2 c4-4 c5-4 c6-4 c9-6"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/list">List Expressions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Number of elements in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">reverse</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Reverse the order of the elements in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">head</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">last</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">tail</span><span class="cm-node">(</span><span class="cm-variable">$list</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p><code>head()</code> returns the first, <code>last()</code> the last element
of the list. <code>tail()</code> returns all but the first element.
All return <code>null</code> for an empty list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">[</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">list</span> <span class="cm-keyword">WHERE</span> <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span> &lt;&gt; <span class="cm-variable">$value</span> | <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>Combination of filter and extract in a concise notation.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">extract</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">list</span> | <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>A list of the value of the expression for each element in the original list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">filter</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">list</span> <span class="cm-keyword">WHERE</span> <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span> &lt;&gt; <span class="cm-variable">$value</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>A filtered list of the elements where the predicate is <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">reduce</span><span class="cm-node">(</span><span class="cm-variable">s</span> = <span class="cm-string">"</span><span class="cm-string">"</span><span class="cm-node">,</span> <span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">list</span> | <span class="cm-variable">s</span> + <span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">prop</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Evaluate expression for each element in the list, accumulate the results.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardfunctions c2-1 c3-2 c4-3 c5-5 c6-5 c9-8"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/string">String Functions</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">toString</span><span class="cm-node">(</span><span class="cm-variable">$expression</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>String representation of the expression.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">replace</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$search</span><span class="cm-node">,</span> <span class="cm-variable">$replacement</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Replace all occurrences of <code>search</code> with <code>replacement</code>.
All arguments must be expressions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">substring</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$begin</span><span class="cm-node">,</span> <span class="cm-variable">$subLength</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Get part of a string.
The <code>subLength</code> argument is optional.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">left</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$subLength</span><span class="cm-node">)</span><span class="cm-node">,</span>
  <span class="cm-builtin">right</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$subLength</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>The first part of a string. The last part of the string.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">trim</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-builtin">lTrim</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span><span class="cm-node">,</span>
  <span class="cm-builtin">rTrim</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Trim all whitespace, or on the left or right side.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">toUpper</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span><span class="cm-node">,</span> <span class="cm-variable">toLower</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>UPPERCASE and lowercase.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">split</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">,</span> <span class="cm-variable">$delimiter</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Split a string into a list of strings.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">reverse</span><span class="cm-node">(</span><span class="cm-variable">$original</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Reverse a string.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-variable">$string</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Calculate the number of characters in the string.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div></div><div class="columns" id="column-3"><div class="col cardgeneral c3-3 c4-3 c5-3 c6-3 c9-4"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top" colspan="2"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/operators/">Operators</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">General</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DISTINCT</code>, <code>.</code>, <code>[]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mathematical</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, <code>^</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Comparison</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>=</code>, <code>&lt;&gt;</code>, <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, <code>&gt;=</code>, <code>IS NULL</code>, <code>IS NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AND</code>, <code>OR</code>, <code>XOR</code>, <code>NOT</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>+</code>, <code>IN</code>, <code>[x]</code>, <code>[x .. y]</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Regular Expression</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>=~</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">String matching</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STARTS WITH</code>, <code>ENDS WITH</code>, <code>CONTAINS</code></p></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c3-3 c4-3 c5-3 c6-3 c9-4"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/working-with-null/">null</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p><code>null</code> is used to represent missing/undefined values.</p>
</li>
<li>
<p><code>null</code> is not equal to <code>null</code>.
Not knowing two values does not imply that they are the same value.
So the expression <code>null = null</code> yields <code>null</code> and not <code>true</code>.
To check if an expression is <code>null</code>, use <code>IS NULL</code>.</p>
</li>
<li>
<p>Arithmetic expressions, comparisons and function calls (except <code>coalesce</code>) will return <code>null</code> if any argument is <code>null</code>.</p>
</li>
<li>
<p>An attempt to access a missing element in a list or a property that doesn’t exist yields <code>null</code>.</p>
</li>
<li>
<p>In <code>OPTIONAL MATCH</code> clauses, <code>null</code>s will be used for missing parts of the pattern.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c3-3 c4-3 c5-3 c6-3 c9-4"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/patterns">Patterns</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Node with <code>Person</code> label.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-variable">:Swedish</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Node with both <code>Person</code> and <code>Swedish</code> labels.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-atom">n:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Node with the declared properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">r</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Matches relationships with the declared properties.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Relationship from <code>n</code> to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>--<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Relationship in any direction between <code>n</code> and <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Node <code>n</code> labeled <code>Person</code> with relationship to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span>&lt;-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Relationship of type <code>KNOWS</code> from <code>n</code> to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span>|<span class="cm-variable">:LOVES</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Relationship of type <code>KNOWS</code> or of type <code>LOVES</code> from <code>n</code> to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">r</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Bind the relationship to variable <code>r</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span>*<span class="cm-variable">1</span><span class="cm-node">.</span><span class="cm-node">.</span><span class="cm-variable">5</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Variable length path of between 1 and 5 relationships from <code>n</code> to <code>m</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span>*<span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Variable length path of any number of relationships from <code>n</code> to <code>m</code>.
(See Performance section.)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span> <span class="cm-node">{</span><span class="cm-atom">property:</span> <span class="cm-variable">$value</span><span class="cm-node">}</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>A relationship of type <code>KNOWS</code> from a node <code>n</code> to a node <code>m</code> with the declared property.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">shortestPath</span><span class="cm-node">(</span><span class="cm-node">(</span><span class="cm-atom">n1:Person</span><span class="cm-node">)</span>-<span class="cm-node">[</span>*<span class="cm-node">.</span><span class="cm-node">.</span><span class="cm-variable">6</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-atom">n2:Person</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Find a single shortest path.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">allShortestPaths</span><span class="cm-node">(</span><span class="cm-node">(</span><span class="cm-atom">n1:Person</span><span class="cm-node">)</span>-<span class="cm-node">[</span>*<span class="cm-node">.</span><span class="cm-node">.</span><span class="cm-variable">6</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-atom">n2:Person</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Find all shortest paths.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-builtin">size</span><span class="cm-node">(</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-node">)</span>--&gt;<span class="cm-node">(</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Count the paths matching the pattern.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c2-1 c3-3 c4-4 c5-4 c6-4 c9-5"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/maps">Maps</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-string">'Alice'</span><span class="cm-node">,</span> <span class="cm-atom">age:</span> <span class="cm-variable">38</span><span class="cm-node">,</span>
 <span class="cm-atom">address:</span> <span class="cm-node">{</span><span class="cm-atom">city:</span> <span class="cm-string">'London'</span><span class="cm-node">,</span> <span class="cm-atom">residential:</span> <span class="cm-keyword">true</span><span class="cm-node">}</span><span class="cm-node">}</span></pre></div>
<div class="paragraph">
<p>Literal maps are declared in curly braces much like property maps.
Lists are supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">WITH</span> <span class="cm-node">{</span><span class="cm-atom">person:</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-string">'Anne'</span><span class="cm-node">,</span> <span class="cm-atom">age:</span> <span class="cm-variable">25</span><span class="cm-node">}</span><span class="cm-node">}</span> <span class="cm-keyword">AS</span> <span class="cm-variable">p</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">person</span><span class="cm-node">.</span><span class="cm-variable">name</span></pre></div>
<div class="paragraph">
<p>Access the property of a nested map.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MERGE</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span> <span class="cm-node">{</span><span class="cm-atom">name:</span> <span class="cm-variable">$map</span><span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">}</span><span class="cm-node">)</span>
  <span class="cm-keyword">ON</span> <span class="cm-keyword">CREATE</span> <span class="cm-keyword">SET</span> <span class="cm-variable">p</span> = <span class="cm-variable">$map</span></pre></div>
<div class="paragraph">
<p>Maps can be passed in as parameters and used either as a map or by accessing keys.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">matchedNode:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">RETURN</span> <span class="cm-variable">matchedNode</span></pre></div>
<div class="paragraph">
<p>Nodes and relationships are returned as maps of their data.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">map</span><span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">,</span> <span class="cm-variable">map</span><span class="cm-node">.</span><span class="cm-variable">age</span><span class="cm-node">,</span> <span class="cm-variable">map</span><span class="cm-node">.</span><span class="cm-variable">children</span><span class="cm-node">[</span><span class="cm-variable">0</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>Map entries can be accessed by their keys.
Invalid keys result in an error.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c2-2 c3-3 c4-4 c5-4 c6-4 c9-5"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/clauses/where">Predicates</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> &lt;&gt; <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Use comparison operators.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Use functions.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">number</span> &gt;= <span class="cm-variable">1</span> <span class="cm-def">AND</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">number</span> &lt;= <span class="cm-variable">10</span></pre></div>
<div class="paragraph">
<p>Use boolean operators to combine predicates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">1</span> &lt;= <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">number</span> &lt;= <span class="cm-variable">10</span></pre></div>
<div class="paragraph">
<p>Use chained operators to combine predicates.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-atom">n:Person</span></pre></div>
<div class="paragraph">
<p>Check for node labels.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">variable</span> <span class="cm-keyword">IS</span> <span class="cm-keyword">NULL</span></pre></div>
<div class="paragraph">
<p>Check if something is <code>null</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">NOT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span> <span class="cm-def">OR</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Either the property does not exist or the predicate is <code>true</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Non-existing property returns <code>null</code>, which is not equal to anything.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">[</span><span class="cm-string">"property"</span><span class="cm-node">]</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Properties may also be accessed using a dynamically computed property name.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-keyword">STARTS</span> <span class="cm-keyword">WITH</span> <span class="cm-string">'Tob'</span> <span class="cm-def">OR</span>
<span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-keyword">ENDS</span> <span class="cm-keyword">WITH</span> <span class="cm-string">'n'</span> <span class="cm-def">OR</span>
<span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-def">CONTAINS</span> <span class="cm-string">'goodie'</span></pre></div>
<div class="paragraph">
<p>String matching.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> =~ <span class="cm-string">'Tob.*'</span></pre></div>
<div class="paragraph">
<p>String regular expression matching.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Ensure the pattern has at least one match.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">NOT</span> <span class="cm-node">(</span><span class="cm-variable">n</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-variable">:KNOWS</span><span class="cm-node">]</span>-&gt;<span class="cm-node">(</span><span class="cm-variable">m</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Exclude matches to <code>(n)-[:KNOWS]-&gt;(m)</code> from the result.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">property</span> <span class="cm-def">IN</span> <span class="cm-node">[</span><span class="cm-variable">$value1</span><span class="cm-node">,</span> <span class="cm-variable">$value2</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>Check if an element exists in a list.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c2-2 c3-3 c4-4 c5-4 c6-4 c9-6"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/functions/predicate">List Predicates</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">all</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> <span class="cm-keyword">WHERE</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns <code>true</code> if the predicate is <code>true</code> for all elements in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">any</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> <span class="cm-keyword">WHERE</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns <code>true</code> if the predicate is <code>true</code> for at least one element in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">none</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> <span class="cm-keyword">WHERE</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns <code>true</code> if the predicate is <code>false</code> for all elements in the list.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-def">single</span><span class="cm-node">(</span><span class="cm-variable">x</span> <span class="cm-def">IN</span> <span class="cm-variable">coll</span> <span class="cm-keyword">WHERE</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">x</span><span class="cm-node">.</span><span class="cm-variable">property</span><span class="cm-node">)</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Returns <code>true</code> if the predicate is <code>true</code> for exactly one element in the list.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardgeneral c2-2 c3-3 c4-4 c5-5 c6-5 c9-7"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/syntax/expressions">CASE</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CASE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">eyes</span>
 <span class="cm-keyword">WHEN</span> <span class="cm-string">'blue'</span> <span class="cm-keyword">THEN</span> <span class="cm-variable">1</span>
 <span class="cm-keyword">WHEN</span> <span class="cm-string">'brown'</span> <span class="cm-keyword">THEN</span> <span class="cm-variable">2</span>
 <span class="cm-keyword">ELSE</span> <span class="cm-variable">3</span>
<span class="cm-keyword">END</span></pre></div>
<div class="paragraph">
<p>Return <code>THEN</code> value from the matching <code>WHEN</code> value.
The <code>ELSE</code> value is optional, and substituted for <code>null</code> if missing.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CASE</span>
 <span class="cm-keyword">WHEN</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">eyes</span> = <span class="cm-string">'blue'</span> <span class="cm-keyword">THEN</span> <span class="cm-variable">1</span>
 <span class="cm-keyword">WHEN</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">age</span> &lt; <span class="cm-variable">40</span> <span class="cm-keyword">THEN</span> <span class="cm-variable">2</span>
 <span class="cm-keyword">ELSE</span> <span class="cm-variable">3</span>
<span class="cm-keyword">END</span></pre></div>
<div class="paragraph">
<p>Return <code>THEN</code> value from the first <code>WHEN</code> predicate evaluating to <code>true</code>.
Predicates are evaluated in order.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardschema c2-2 c3-3 c4-4 c5-3 c6-6 c9-9"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/schema/index">INDEX</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">INDEX</span> <span class="cm-keyword">ON</span> <span class="cm-variable">:Person</span><span class="cm-node">(</span><span class="cm-variable">name</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Create an index on the label <code>Person</code> and property <code>name</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span> <span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>An index can be automatically used for the equality comparison.
Note that for example <code>toLower(n.name) = $value</code> will not use an index.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> <span class="cm-def">IN</span> <span class="cm-node">[</span><span class="cm-variable">$value</span><span class="cm-node">]</span></pre></div>
<div class="paragraph">
<p>An index can automatically be used for the <code>IN</code> list checks.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">MATCH</span> <span class="cm-node">(</span><span class="cm-atom">n:Person</span><span class="cm-node">)</span>
<span class="cm-keyword">USING</span> <span class="cm-keyword">INDEX</span> <span class="cm-atom">n:Person</span><span class="cm-node">(</span><span class="cm-variable">name</span><span class="cm-node">)</span>
<span class="cm-keyword">WHERE</span> <span class="cm-variable">n</span><span class="cm-node">.</span><span class="cm-variable">name</span> = <span class="cm-variable">$value</span></pre></div>
<div class="paragraph">
<p>Index usage can be enforced when Cypher uses a suboptimal index, or
more than one index should be used.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">INDEX</span> <span class="cm-keyword">ON</span> <span class="cm-variable">:Person</span><span class="cm-node">(</span><span class="cm-variable">name</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>Drop the index on the label <code>Person</code> and property <code>name</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardschema c2-2 c3-3 c4-4 c5-4 c6-6 c9-9"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/schema/constraints">CONSTRAINT</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
       <span class="cm-keyword">ASSERT</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">name</span> <span class="cm-keyword">IS</span> <span class="cm-keyword">UNIQUE</span></pre></div>
<div class="paragraph">
<p>Create a unique property constraint on the label <code>Person</code> and property <code>name</code>.
If any other node with that label is updated or created with a <code>name</code> that
already exists, the write operation will fail.
This constraint will create an accompanying index.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
     <span class="cm-keyword">ASSERT</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">name</span> <span class="cm-keyword">IS</span> <span class="cm-keyword">UNIQUE</span></pre></div>
<div class="paragraph">
<p>Drop the unique constraint and index on the label <code>Person</code> and property <code>name</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
       <span class="cm-keyword">ASSERT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>(★) Create a node property existence constraint on the label <code>Person</code> and property <code>name</code>.
If a node with that label is created without a <code>name</code>, or if the <code>name</code> property is
removed from an existing node with the <code>Person</code> label, the write operation will fail.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
     <span class="cm-keyword">ASSERT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">name</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>(★) Drop the node property existence constraint on the label <code>Person</code> and property <code>name</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">l:LIKED</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-node">)</span>
       <span class="cm-keyword">ASSERT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">l</span><span class="cm-node">.</span><span class="cm-keyword">when</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>(★) Create a relationship property existence constraint on the type <code>LIKED</code> and property <code>when</code>.
If a relationship with that type is created without a <code>when</code>, or if the <code>when</code> property is
removed from an existing relationship with the <code>LIKED</code> type, the write operation will fail.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-node">)</span>-<span class="cm-node">[</span><span class="cm-atom">l:LIKED</span><span class="cm-node">]</span>-<span class="cm-node">(</span><span class="cm-node">)</span>
     <span class="cm-keyword">ASSERT</span> <span class="cm-def">exists</span><span class="cm-node">(</span><span class="cm-variable">l</span><span class="cm-node">.</span><span class="cm-keyword">when</span><span class="cm-node">)</span></pre></div>
<div class="paragraph">
<p>(★) Drop the relationship property existence constraint on the type <code>LIKED</code> and property <code>when</code>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">CREATE</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
      <span class="cm-keyword">ASSERT</span> <span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">firstname</span><span class="cm-node">,</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">surname</span><span class="cm-node">)</span> <span class="cm-keyword">IS</span> <span class="cm-builtin">NODE</span> <span class="cm-variable">KEY</span></pre></div>
<div class="paragraph">
<p>(★) Create a Node Key constraint on the label <code>Person</code> and properties <code>firstname</code> and <code>surname</code>.
If a node with that label is created without both <code>firstname</code> and <code>surname</code>
or if the combination of the two is not unique,
or if the <code>firstname</code> and/or <code>surname</code> labels on an existing node with the <code>Person</code> label
is modified to violate these constraints, the write operation will fail.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="listingblock"><pre class="programlisting brush: cypher cm-s-neo"><span class="cm-keyword">DROP</span> <span class="cm-keyword">CONSTRAINT</span> <span class="cm-keyword">ON</span> <span class="cm-node">(</span><span class="cm-atom">p:Person</span><span class="cm-node">)</span>
      <span class="cm-keyword">ASSERT</span> <span class="cm-node">(</span><span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">firstname</span><span class="cm-node">,</span> <span class="cm-variable">p</span><span class="cm-node">.</span><span class="cm-variable">surname</span><span class="cm-node">)</span> <span class="cm-keyword">IS</span> <span class="cm-builtin">NODE</span> <span class="cm-variable">KEY</span></pre></div>
<div class="paragraph">
<p>(★) Drop the Node Key constraint on the label <code>Person</code> and properties <code>firstname</code> and <code>surname</code>.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div></div><div class="col cardperformance c2-2 c3-3 c4-3 c5-2 c6-6 c9-9"><div class="blk">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><a href="https://neo4j.com/docs/developer-manual/3.3/cypher/query-tuning">Performance</a></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>Use parameters instead of literals when possible.
This allows Cypher to re-use your queries instead of having to parse and build new execution plans.</p>
</li>
<li>
<p>Always set an upper limit for your variable length patterns.
It’s easy to have a query go wild and touch all nodes in a graph by mistake.</p>
</li>
<li>
<p>Return only the data you need.
Avoid returning whole nodes and relationships — instead, pick the data you need and return only that.</p>
</li>
<li>
<p>Use <code>PROFILE</code> / <code>EXPLAIN</code> to analyze the performance of your queries.
See <a href="https://neo4j.com/docs/developer-manual/3.3/cypher/query-tuning">Query Tuning</a> for more information on these and other topics, such as planner hints.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div></div></div><div id="clearing-div" style="clear: both;"></div></div></div><footer><div id="footer-text"></div><div class="mid">
  <a href="https://github.com/neo4j/neo4j" title="source code">
    <img src="Neo4j%20Cypher%20Refcard%203.3_files/github.png" alt="source code">
  </a>
  <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="Creative Commons License">
    <img alt="Creative Commons License" style="border-width:0" src="Neo4j%20Cypher%20Refcard%203.3_files/80x15.png">
  </a> by <a href="http://www.neo4j.com/">Neo4j, Inc.</a>.
  <span class="float-right">(★) Functionality available in Neo4j Enterprise Edition.</span>
</div>
<!-- Google Universal Tracker -->
  <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    //Allow Linker
    ga('create', 'UA-1192232-34','auto', {'allowLinker': true});
    ga('send', 'pageview');

    // Load the plugin.
    ga('require', 'linker');

    // Define which domains to autoLink.
    ga('linker:autoLink', ['neo4j.org','neo4j.com','neotechnology.com','graphdatabases.com','graphconnect.com']);
  </script>
<!-- END Google Universal Tracker -->

<script type="text/javascript">
document.write(unescape("%3Cscript src='//munchkin.marketo.net/munchkin.js' type='text/javascript'%3E%3C/script%3E"));
</script><script src="Neo4j%20Cypher%20Refcard%203.3_files/munchkin_002.js" type="text/javascript"></script>
<script>Munchkin.init('773-GON-065');</script></footer></body></html>